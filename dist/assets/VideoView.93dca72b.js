import{_ as Y,r as _,u as w,a as C,o as D,b as y,c as L,d as l,e as c,f as t,w as x,g as v,v as h,t as n,h as u,F as M,i as z,j as N,k as U,l as S,m as T}from"./index.7456983e.js";const R={setup(){let r=_([]);_(null);let o=_(null);const b=_([]),e=w(),k="http://34.101.97.232:5000/",i=C({name:"",idYt:"",desc:"",thumbnail:""});D(()=>{y.get(k+"api/videos").then(s=>{r.value=s.data}).catch(s=>{console.log(s.response)})});function p(){if(a(i.idYt)){var s=new URL(i.idYt);s.searchParams.get("v")}const d=new FormData;d.append("name",i.name),d.append("idYt",i.idyt),d.append("desc",i.desc),y.post("http://34.101.97.232:5000/api/videos",d).then(()=>{e.go({name:"video"})}).catch(g=>{b.value=g.response.data})}function a(s){var d=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!d.test(s)}function m(s){s.target.files[0]}function f(s,d){y.delete(`http://34.101.97.232:5000/api/videos/${s}`).then(()=>{r.value.data.splice(d,1),e.go({name:"video"})}).catch(g=>{console.log(g.response.data)})}function V(s){o.value=s}return{video:i,validation:b,router:e,store:p,onModulSelected:m,videos:r,destroy:f,getId:V,idVideo:o}}},A={class:"content"},B={class:"row"},E={class:"col-md-12"},F={class:"card"},I=t("div",{class:"card-header"},[t("h4",{class:"card-title"},"Add Video")],-1),j={class:"card-body"},P={class:"mb-3"},q=t("label",{for:"",class:"form-label"},"Title",-1),G={key:0,class:"text-danger"},H={class:"mb-3"},J=t("label",{for:"",class:"form-label"},"Deskripsi",-1),K={key:0,class:"text-danger"},O={class:"mb-3"},Q=t("label",{for:"",class:"form-label"},"Thumbnail",-1),W={key:0,class:"text-danger"},X={class:"mb-3"},Z=t("label",{for:"",class:"form-label"},"Link Video Youtube",-1),$={key:0,class:"text-danger"},tt=t("button",{class:"btn btn-primary"},"Submit",-1),et={class:"card"},at=t("div",{class:"card-header"},[t("h4",{class:"card-title"},"List Video")],-1),ot={class:"card-body"},st={class:"table-responsive"},dt={class:"table"},nt=t("thead",{class:"text-primary"},[t("th",null,"Nama"),t("th",null,"Deskripsi"),t("th",null,"Link Video Youtube"),t("th",null,"Link Thumbnail"),t("th",null,"Action")],-1),it={class:"btn-group"},lt=T("Edit"),ct=["onClick"],rt={class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},mt={class:"modal-dialog",role:"document"},_t={class:"modal-content"},vt=S('<div class="modal-header"><h5 class="modal-title" id="exampleModalLabel"> Delete Video </h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"> Apakah anda yakin ingin menghapus ini? </div>',2),ht={class:"modal-footer"},ut=t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),bt=["onClick"];function pt(r,o,b,e,k,i){const p=L("router-link");return l(),c("div",A,[t("div",B,[t("div",E,[t("div",F,[I,t("div",j,[t("form",{onSubmit:o[4]||(o[4]=x(a=>e.store(),["prevent"]))},[t("div",P,[q,v(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=a=>e.video.name=a)},null,512),[[h,e.video.name]]),e.validation.name?(l(),c("div",G,n(e.validation.name),1)):u("",!0)]),t("div",H,[J,v(t("textarea",{class:"form-control","onUpdate:modelValue":o[1]||(o[1]=a=>e.video.desc=a)},null,512),[[h,e.video.desc]]),e.validation.desc?(l(),c("div",K,n(e.validation.desc),1)):u("",!0)]),t("div",O,[Q,v(t("textarea",{class:"form-control","onUpdate:modelValue":o[2]||(o[2]=a=>e.video.thumbnail=a)},null,512),[[h,e.video.thumbnail]]),e.validation.desc?(l(),c("div",W,n(e.validation.thumbnail),1)):u("",!0)]),t("div",X,[Z,v(t("input",{type:"url",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=a=>e.video.idYt=a)},null,512),[[h,e.video.idYt]]),e.validation.idYt?(l(),c("div",$,n(e.validation.idYt),1)):u("",!0)]),tt],32)])]),t("div",et,[at,t("div",ot,[t("div",st,[t("table",dt,[nt,t("tbody",null,[(l(!0),c(M,null,z(e.videos.data,(a,m)=>(l(),c("tr",{key:m},[t("td",null,n(a.name),1),t("td",null,n(a.desc),1),t("td",null,n(a.idYt),1),t("td",null,n(a.thumbnail),1),t("div",it,[N(p,{to:{name:"editvideo",params:{id:a.id}},class:"btn btn-sm btn-outline-info"},{default:U(()=>[lt]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-sm btn-outline-danger","data-toggle":"modal","data-target":"#exampleModal",onClick:f=>e.getId(a.id)}," Delete ",8,ct),t("div",rt,[t("div",mt,[t("div",_t,[vt,t("div",ht,[ut,t("button",{type:"button",class:"btn btn-danger",onClick:x(f=>e.destroy(e.idVideo,m),["prevent"]),"data-dismiss":"modal"}," Delete ",8,bt)])])])])])]))),128))])])])])])])])])}var gt=Y(R,[["render",pt]]);export{gt as default};
