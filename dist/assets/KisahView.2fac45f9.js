import{_ as V,r as c,u as w,a as D,o as L,b as f,c as M,d as n,e as o,f as t,w as y,g as k,v as g,t as i,h as u,F as T,i as K,j as A,k as I,l as N,m as B}from"./index.7456983e.js";const F={setup(){let r=c([]),l=c(null),d=c(null),a=c(null);const _=c([]),m=w(),b="http://34.101.97.232:5000/",e=D({name:"",sumber:"",link:"",thumbnail:""});L(()=>{f.get(b+"api/kisah").then(s=>{r.value=s.data}).catch(s=>{console.log(s.response)})});function h(){const s=new FormData;s.append("name",e.name),s.append("sumber",e.sumber),s.append("link",e.link),d._value===null?s.append("thumbnail",e.thumbnail):s.append("thumbnail",d,d.name),f.post("http://34.101.97.232:5000/api/kisah",s).then(()=>{m.go({name:"kisah"})}).catch(p=>{_.value=p.response.data})}function v(s){d=s.target.files[0]}function x(s,p){f.delete(`http://34.101.97.232:5000/api/kisah/${s}`).then(()=>{r.value.data.splice(p,1),m.go({name:"kisah"})}).catch(S=>{console.log(S.response.data)})}function C(s){a.value=s}return{kisah:e,validation:_,router:m,store:h,onThumbnailSelected:v,modul:l,kisahs:r,destroy:x,getId:C,idKisah:a}}},U={class:"content"},E={class:"row"},J={class:"col-md-12"},j={class:"card"},R=t("div",{class:"card-header"},[t("h4",{class:"card-title"},"Add Kisah Inspiratif")],-1),q={class:"card-body"},z={class:"mb-3"},G=t("label",{for:"",class:"form-label"},"Judul",-1),H={key:0,class:"text-danger"},O={class:"mb-3"},P=t("label",{for:"",class:"form-label"},"Sumber",-1),Q={key:0,class:"text-danger"},W={class:"mb-3"},X=t("label",{for:"",class:"form-label"},"Link Artikel",-1),Y={key:0,class:"text-danger"},Z={class:"mb-3"},$=t("label",{for:"",class:"form-label"},"Thumbnail",-1),tt=t("br",null,null,-1),at={key:0,class:"text-danger"},et=t("button",{class:"btn btn-primary"},"Submit",-1),st={class:"col-md-12"},lt={class:"card"},nt=t("div",{class:"card-header"},[t("h4",{class:"card-title"},"List Kisah Inspiratif")],-1),ot={class:"card-body"},it={class:"table-responsive"},dt={class:"table"},ct=t("thead",{class:"text-primary"},[t("th",null,"Judul"),t("th",null,"Sumber"),t("th",null,"Link Artikel"),t("th",null,"Thumbnail"),t("th",null,"Action")],-1),rt=["href"],mt=["src"],ht={class:"btn-group"},ut=B("Edit"),_t=["onClick"],bt={class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},vt={class:"modal-dialog",role:"document"},pt={class:"modal-content"},ft=N('<div class="modal-header"><h5 class="modal-title" id="exampleModalLabel"> Delete Kisah Inspiratif </h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">\xD7</span></button></div><div class="modal-body"> Apakah anda yakin ingin menghapus ini? </div>',2),kt={class:"modal-footer"},gt=t("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancel ",-1),yt=["onClick"];function xt(r,l,d,a,_,m){const b=M("router-link");return n(),o("div",U,[t("div",E,[t("div",J,[t("div",j,[R,t("div",q,[t("form",{onSubmit:l[4]||(l[4]=y(e=>a.store(),["prevent"]))},[t("div",z,[G,k(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=e=>a.kisah.name=e)},null,512),[[g,a.kisah.name]]),a.validation.name?(n(),o("div",H,i(a.validation.name),1)):u("",!0)]),t("div",O,[P,k(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[1]||(l[1]=e=>a.kisah.sumber=e)},null,512),[[g,a.kisah.sumber]]),a.validation.sumber?(n(),o("div",Q,i(a.validation.sumber),1)):u("",!0)]),t("div",W,[X,k(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=e=>a.kisah.link=e)},null,512),[[g,a.kisah.link]]),a.validation.link?(n(),o("div",Y,i(a.validation.link),1)):u("",!0)]),t("div",Z,[$,tt,t("input",{id:"file",onChange:l[3]||(l[3]=(...e)=>a.onThumbnailSelected&&a.onThumbnailSelected(...e)),type:"file",class:"form-control",accept:"image/*"},null,32),a.validation.thumbnail?(n(),o("div",at,i(a.validation.thumbnail),1)):u("",!0)]),et],32)])]),t("div",st,[t("div",lt,[nt,t("div",ot,[t("div",it,[t("table",dt,[ct,t("tbody",null,[(n(!0),o(T,null,K(a.kisahs.data,(e,h)=>(n(),o("tr",{key:h},[t("td",null,i(e.name),1),t("td",null,i(e.sumber),1),t("td",null,[t("a",{href:e.link},"Link artikel",8,rt)]),t("td",null,[t("img",{src:"http://34.101.97.232:5000/"+e.thumbnail,width:"300",class:"img-thumbnail"},null,8,mt)]),t("td",null,[t("div",ht,[A(b,{to:{name:"editkisah",params:{id:e.id}},class:"btn btn-sm btn-outline-info"},{default:I(()=>[ut]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-sm btn-outline-danger","data-toggle":"modal","data-target":"#exampleModal",onClick:v=>a.getId(e.id)}," Delete ",8,_t),t("div",bt,[t("div",vt,[t("div",pt,[ft,t("div",kt,[gt,t("button",{type:"button",class:"btn btn-danger",onClick:y(v=>a.destroy(a.idKisah,h),["prevent"]),"data-dismiss":"modal"}," Delete ",8,yt)])])])])])])]))),128))])])])])])])])])])}var St=V(F,[["render",xt]]);export{St as default};
