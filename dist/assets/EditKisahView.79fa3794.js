import{_ as v,r as _,a as k,u as g,p as x,o as y,b as f,d as l,e as o,f as a,w,g as c,v as m,t as h,h as u}from"./index.9ba826d1.js";const S={setup(){let i=_(null),t=k({name:"",sumber:"",link:"",thumbnail:""});const d=_([]),s=g(),r=x();y(()=>{f.get(`http://34.101.97.232:5000/api/kisah/${r.params.id}`).then(e=>{t.name=e.data.data.name,t.sumber=e.data.data.sumber,t.link=e.data.data.link,t.thumbnail=e.data.data.thumbnail}).catch(e=>{console.log(e)})});function b(){const e=new FormData;e.append("name",t.name),e.append("sumber",t.sumber),e.append("link",t.link),i._value===null?e.append("thumbnail",t.thumbnail):e.append("thumbnail",i,i.name),f.put(`http://34.101.97.232:5000/api/kisah/${r.params.id}`,e).then(()=>{s.push({name:"kisah"})}).catch(p=>{d.value=p.response.data})}function n(e){i=e.target.files[0]}return{kisah:t,validation:d,router:s,update:b,onThumbnailSelected:n,thumbnail:i}}},T={class:"content"},V={class:"row"},D={class:"col-md-12"},B={class:"card"},E=a("div",{class:"card-header"},[a("h4",{class:"card-title"},"Edit Kisah Inspiratif")],-1),M={class:"card-body"},U={class:"mb-3"},C=a("label",{for:"",class:"form-label"},"Judul",-1),K={key:0,class:"text-danger"},N={class:"mb-3"},R=a("label",{for:"",class:"form-label"},"Sumber",-1),A={key:0,class:"text-danger"},F={class:"mb-3"},I=a("label",{for:"",class:"form-label"},"Link Artikel",-1),J={key:0,class:"text-danger"},L={class:"mb-3"},j=a("label",{for:"",class:"form-label"},"Thumbnail Terkini",-1),q=a("br",null,null,-1),z=["src"],G=a("br",null,null,-1),H=a("label",{for:"",class:"form-label"},"Thumbnail",-1),O=a("br",null,null,-1),P=a("button",{class:"btn btn-primary"},"Submit",-1);function Q(i,t,d,s,r,b){return l(),o("div",T,[a("div",V,[a("div",D,[a("div",B,[E,a("div",M,[a("form",{onSubmit:t[4]||(t[4]=w(n=>s.update(),["prevent"]))},[a("div",U,[C,c(a("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=n=>s.kisah.name=n)},null,512),[[m,s.kisah.name]]),s.validation.name?(l(),o("div",K,h(s.validation.name),1)):u("",!0)]),a("div",N,[R,c(a("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=n=>s.kisah.sumber=n)},null,512),[[m,s.kisah.sumber]]),s.validation.sumber?(l(),o("div",A,h(s.validation.sumber),1)):u("",!0)]),a("div",F,[I,c(a("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=n=>s.kisah.link=n)},null,512),[[m,s.kisah.link]]),s.validation.link?(l(),o("div",J,h(s.validation.link),1)):u("",!0)]),a("div",L,[j,q,a("img",{src:"http://34.101.97.232:5000/"+s.kisah.thumbnail,width:"300",class:"img-thumbnail mb-3"},null,8,z),G,H,O,a("input",{id:"file",onChange:t[3]||(t[3]=(...n)=>s.onThumbnailSelected&&s.onThumbnailSelected(...n)),type:"file",class:"form-control",accept:"image/*"},null,32)]),P],32)])])])])])}var X=v(S,[["render",Q]]);export{X as default};
